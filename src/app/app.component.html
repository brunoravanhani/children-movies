

<main class="main">

  <header>
    <h1 class="main-title">Filmes para as crian√ßas assistirem</h1>
  </header>

  <div class="form-content">

    <!-- <form > -->
      <div class="form-container">
        <mat-form-field class="search-bar">
          <mat-label>Buscar Filme</mat-label>
          <input matInput placeholder="Input" [(ngModel)]="search">
          @if (search) {
            <button matSuffix mat-icon-button aria-label="Clear" (click)="search='';searchFilter()">
              <mat-icon>close</mat-icon>
            </button>
          }

        </mat-form-field>
        <button mat-fab (click)="searchFilter()">
          <mat-icon>search</mat-icon>
        </button>
      </div>

    <!-- </form> -->



    <h5>Filtrar por:</h5>
    <section class="">
      <mat-checkbox class="" [(ngModel)]="filterMovies" (change)="toggleFilter()">Filmes</mat-checkbox>
      <mat-checkbox class="" [(ngModel)]="filterSeries" (change)="toggleFilter()">Series</mat-checkbox>
      <mat-checkbox class="" [(ngModel)]="filterBoy" (change)="toggleFilter()">Menino</mat-checkbox>
      <mat-checkbox class="" [(ngModel)]="filterGirl" (change)="toggleFilter()">Menina</mat-checkbox>
    </section>
  </div>

  <div class="content">
      @for (item of movies; track item.id) {
        <mat-card class="movie-card" appearance="outlined">

          <img mat-card-image class="card-image" [src]="item.image"  [alt]="item.name">
          <mat-card-content>
            <p>
              {{item.description}}
            </p>
          </mat-card-content>
          <mat-card-header>
            <mat-card-title>{{item.name}}</mat-card-title>
          </mat-card-header>
          <mat-card-actions>
            @for (stream of item.streams; track stream.name) {
              <a mat-button  [href]="stream.link" target="_blank">{{stream.name}}</a>
            }
          </mat-card-actions>
        </mat-card>

        } @empty {
          <div>There are no items.</div>
        }
  </div>
</main>


<router-outlet />
